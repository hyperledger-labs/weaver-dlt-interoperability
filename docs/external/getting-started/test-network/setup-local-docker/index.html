<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/weaver-dlt-interoperability/blog/rss.xml" title="Weaver: DLT Interoperability Framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/weaver-dlt-interoperability/blog/atom.xml" title="Weaver: DLT Interoperability Framework Atom Feed"><title data-react-helmet="true">Setup with Locally Built Dockerized Weaver Components | Weaver: DLT Interoperability Framework</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setup with Locally Built Dockerized Weaver Components | Weaver: DLT Interoperability Framework"><meta data-react-helmet="true" name="description" content="&lt;!--"><meta data-react-helmet="true" property="og:description" content="&lt;!--"><link data-react-helmet="true" rel="shortcut icon" href="/weaver-dlt-interoperability/shared/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker"><link data-react-helmet="true" rel="alternate" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker" hreflang="x-default"><link rel="stylesheet" href="/weaver-dlt-interoperability/assets/css/styles.443c8833.css">
<link rel="preload" href="/weaver-dlt-interoperability/assets/js/runtime~main.484a241e.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/assets/js/main.e403c925.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/weaver-dlt-interoperability/"><div class="navbar__logo"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Weaver</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/weaver-dlt-interoperability/docs/external/introduction">Docs</a><a class="navbar__item navbar__link" href="/weaver-dlt-interoperability/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/introduction">Weaver Framework</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/guide">Using Weaver</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Launching a Test Network</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/overview">Component Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local">Setup with Locally Built Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker">Setup with Locally Built Dockerized Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages">Setup with Imported Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages-docker">Setup with Imported Dockerized Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization">Ledger Initialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration">Advanced Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Testing Interoperation Modes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Enabling Weaver in your Network and Application</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">What is Interoperability?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/interoperability-modes">Interoperability Modes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/design-principles">Design Principles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Stories</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture and Design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security Model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deployment Considerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/specifications">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/publications">Publications</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setup with Locally Built Dockerized Weaver Components</h1></header><p>In this document, we detail the steps using which you can bring up networks using the default configuration settings and by fetching pre-built Weaver interoperation modules, SDK libraries, and relay docker image, drivers docker images from Github Package repositories. To customize these settings (e.g., hostnames, ports), refer to the <a href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration">Advanced Configuration page</a>.</p><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">All components are run within Docker containers, except client applications.</td></tr></tbody></table><p>Follow the instructions below to build and run components followed by interoperation flows. These instructions have been tested on Ubuntu Linux (bash shell) and Mac OS. In general, they should work on any system and shell as long as the various dependencies have been installed and configured.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites">Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="software">Software<a aria-hidden="true" class="hash-link" href="#software" title="Direct link to heading">â€‹</a></h3><p>Before starting, make sure you have the following software installed on your host machine:</p><ul><li>Curl: <em>install using package manager, like <code>apt</code> on Debian/Ubuntu Linux</em></li><li>Git: <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank" rel="noopener noreferrer">sample instructions</a></li><li>Docker: <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">sample instructions</a> (Latest version)</li><li>Docker-Compose: <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">sample instructions</a> (Version 1.28.2 or higher)</li><li>Golang: <a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">sample instructions</a> (Version 1.16 or higher)</li><li>Java (JDK and JRE): <a href="https://openjdk.java.net/install/" target="_blank" rel="noopener noreferrer">sample instructions</a> (Version 8)</li><li>Node.js and NPM: <a href="https://nodejs.org/en/download/package-manager/" target="_blank" rel="noopener noreferrer">sample instructions</a> (Version 11 to Version 14 Supported)</li><li>Yarn: <a href="https://classic.yarnpkg.com/en/docs/install/" target="_blank" rel="noopener noreferrer">sample instructions</a></li><li>Protoc (Protobuf compiler): <em>Golang should already be installed and configured.</em><ul><li>Default method: Run the following with <code>sudo</code> if necessary. This will install both the protobuf compiler and the Go code generator plugins.<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apt-get install protobuf-compiler</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">go get -u google.golang.org/protobuf/cmd/protoc-gen-go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">go get -u google.golang.org/grpc/cmd/protoc-gen-go-grpc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>If the above method installs an older version of <code>protoc</code> (check using <code>protoc --version</code>), say below 3.12.x, you should download pre-compiled binaries instead. (With an older version, you may see errors while attempting to launch and setup the Fabric networks).<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get remove protobuf-compiler</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -LO https://github.com/protocolbuffers/protobuf/releases/download/v3.15.6/protoc-3.15.6-linux-x86_64.zip</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install unzip</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">unzip protoc-3.15.6-linux-x86_64.zip -d &lt;some-folder-path&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">export PATH=&quot;$PATH:&lt;some-folder-path&gt;/bin&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">go get -u google.golang.org/protobuf/cmd/protoc-gen-go</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">go get -u google.golang.org/grpc/cmd/protoc-gen-go-grpc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">The latest version at present is <code>3.15.6</code>, but you should check the above link to find the most current version before running the above steps.</td></tr></tbody></table></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="credentials">Credentials<a aria-hidden="true" class="hash-link" href="#credentials" title="Direct link to heading">â€‹</a></h3><p>Make sure you have an SSH or GPG key registered in <a href="https://github.com" target="_blank" rel="noopener noreferrer">https://github.com</a> to allow seamless cloning of repositories (at present, various setup scripts clone repositories using the <code>https://</code> prefix but this may change to <code>git@</code> in the future).</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="getting-the-code-and-documentation">Getting the Code and Documentation<a aria-hidden="true" class="hash-link" href="#getting-the-code-and-documentation" title="Direct link to heading">â€‹</a></h2><p>Clone the <a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability" target="_blank" rel="noopener noreferrer">weaver-dlt-interoperability</a> repository. The code to get a basic test network up and running and test data-sharing interoperation flows lies in the subfolder <code>tests/network-setups</code>, which should be your starting point, though the setups will rely on other parts of the repository, as you will find out in the instructions given on this page.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="common-structures">Common Structures<a aria-hidden="true" class="hash-link" href="#common-structures" title="Direct link to heading">â€‹</a></h2><p>The <code>common/protos</code> folder contains structure definitions in the protobuf format that are used by all the different components. The various <code>common/protos-*</code> folders are meant to contain compiled protobufs (in different languages).</p><p>To compile the protobufs for JavaScript, do the following:</p><ul><li>Navigate to the <code>common/protos-js</code> folder.</li><li>Run the following command:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><p>To compile the protobufs for Golang, do the following:</p><ul><li>Navigate to the <code>common/protos-go</code> folder.</li><li>Run the following command:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><p>To compile the protobufs for Java, do the following:</p><ul><li>Navigate to the <code>common/protos-java-kt</code> folder.</li><li>Run the following command:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="securing-components">Securing Components<a aria-hidden="true" class="hash-link" href="#securing-components" title="Direct link to heading">â€‹</a></h2><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">The relays and drivers corresponding to the different test networks you will encounter below can be run with or without TLS enabled. But the default files used in the demonstrations assume that either all relays and drivers are TLS-enabled or none are. Therefore, you should determine at the outset whether or not you wish to run the entire set of components in TLS-enabled mode, and select appropriate commands in the provided instructions.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="hyperledger-fabric-components">Hyperledger Fabric Components<a aria-hidden="true" class="hash-link" href="#hyperledger-fabric-components" title="Direct link to heading">â€‹</a></h2><p>Using the sequence of instructions below, you can start two separate Fabric networks, each with a single channel and application contract (chaincode). You can also start an interoperation contract, a relay and a <em>driver</em> acting on behalf of each network. You can build a Fabric CLI tool with which you can initialize both networks&#x27; ledgers with access control policies, foreign networks&#x27; security groups (i.e., membership providers&#x27; certificate chains), and some sample key-value pairs that can be shared during subsequent interoperation flows.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-interoperation-node-sdk">Fabric Interoperation Node SDK<a aria-hidden="true" class="hash-link" href="#fabric-interoperation-node-sdk" title="Direct link to heading">â€‹</a></h3><p>A client-layer library (companion to <code>hyperledger/fabric-sdk-node</code>) is defined in the <code>sdks/fabric/interoperation-node-sdk</code> folder. This contains functions for Fabric Gateway-based applications to exercise interoperation capabilities via relays and also several utility/helper functions. The Fabric-CLI tool, which we will use later, depends on this library.</p><p>To build the library, do the following:</p><ul><li>Navigate to the <code>sdks/fabric/interoperation-node-sdk</code> folder.</li><li>Run the following command:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-network">Fabric Network<a aria-hidden="true" class="hash-link" href="#fabric-network" title="Direct link to heading">â€‹</a></h3><p>The code for this lies in the <code>tests/network-setups</code> folder.</p><p>This folder contains code to create and launch networks <code>network1</code> and <code>network2</code> of identical specifications:</p><ul><li>Network: 1 peer, 1 peer CA, 1 ordering service node, 1 ordering service CA</li><li>Single channel named <code>mychannel</code></li><li>One of the following contracts deployed on <code>mychannel</code>, the choice depending on the <a href="/weaver-dlt-interoperability/docs/external/interoperability-modes">interoperability mode</a> you wish to test:<ul><li><code>simplestate</code> (<a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/data-sharing">Data Sharing</a>): supports simple transactions (<code>Create</code>, <code>Read</code>, <code>Update</code>, <code>Delete</code>) involving storage and lookup of &lt;key, value&gt; pairs.</li><li><code>simplestatewithacl</code> (<a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/data-sharing">Data Sharing</a>): identical to <code>simplestate</code> but with extra security features to ensure that the Weaver infrastructure cannot be bypassed by a malicious client of the network.</li><li><code>simpleasset</code> (<a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/asset-exchange">Asset Exchange</a>): supports creation, modification, transfer, and deletion, as well as locking, unlocking, and claiming, of simple bonds and tokens (examples of non-fungible and fungible assets respectively).</li><li><code>simpleassetandinterop</code> (<a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/asset-exchange">Asset Exchange</a>): identical to <code>simpleasset</code> but where the locking, unlocking, and claiming logic is imported as a library in the chaincode rather than available in the common Fabric Interoperation Chaincode (a Weaver component).</li><li><code>simpleassettransfer</code> (<a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/asset-exchange">Asset Exchange</a> or <a href="/weaver-dlt-interoperability/docs/external/getting-started/interop/asset-transfer">Asset Transfer</a>): augmentation of <code>simpleasset</code> with asset pledging, claiming, and reclaiming features for cross-network transfers.</li></ul></li></ul><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">For new users, we recommend testing the Data Sharing feature first with the <code>simplestate</code> contract. To test the other modes, you can simply <a href="#tear-down-the-setup">tear down</a> the Fabric networks and restart them with the appropriate chaincodes installed.</td></tr></tbody></table><p>Follow the instructions below to build and launch the networks:</p><ul><li>Navigate to the <code>tests/network-setups/fabric/dev</code> folder.</li><li>To spin up both network1 and network2 with the interoperation chaincode and the default <code>simplestate</code> chaincode installed, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-interop-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><em>To launch the networks with a different application chaincode from the above list, run</em>:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-interop-local </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CHAINCODE_NAME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">chaincode-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">If you do not wish to test Fabric-Fabric interoperation, you can choose to launch only one of the two networks along with its interoperation chaincode. For <code>network1</code>, run <code>make start-interop-network1-local</code>, and for <code>network2</code>, run <code>make start-interop-network2-local</code></td></tr><tr><td align="left">If you wish to enable end-to-end confidentiality by default in the interoperation modules that are deployed during network launch, set the environment variable <code>E2E_CONFIDENTIALITY</code> to <code>true</code> in the command line as follows: <code>E2E_CONFIDENTIALITY=true make start-interop-local</code></td></tr></tbody></table><p>For more information, refer to the associated <a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability/tree/master/tests/network-setups/fabric/dev" target="_blank" rel="noopener noreferrer">README</a>.</p><p><strong>Troubleshooting Tips</strong>:</p><ul><li>If you see any errors during the launches, re-check the prerequisites (software installations and credentials). Ensure your network connection is working. As a safe bet, you can retry after cleanup: kill and remove all Docker containers and associated volumes.</li><li>If <code>protoc</code> or <code>protoc-gen-go</code> throws an error, reinstall <code>protoc</code> and <code>protoc-gen-go</code> using suggestions made in the Prerequisites section above.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-relay">Fabric Relay<a aria-hidden="true" class="hash-link" href="#fabric-relay" title="Direct link to heading">â€‹</a></h3><p>The relay is a module acting on behalf of a network, enabling interoperation flows with other networks by communicating with their relays.
The code for this lies in the <code>core/relay</code> folder. Navigate to the <code>core/relay</code> folder.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="building-relay-image">Building Relay Image<a aria-hidden="true" class="hash-link" href="#building-relay-image" title="Direct link to heading">â€‹</a></h4><p>To build the docker image for relay, run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-server-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="deployment">Deployment<a aria-hidden="true" class="hash-link" href="#deployment" title="Direct link to heading">â€‹</a></h4><ul><li>The <code>docker-compose.yaml</code> in this folder is minimally configured with default values. To modify it for use with the Fabric testnets, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>The <code>.env.n1</code> and <code>.env.n1.tls</code> files in the <code>docker/testnet-envs</code> directory contain environment variables used by the <code>network1</code> relay at startup and runtime. Edit either of these files (depending on whether you wish to start the relay with or without TLS), and update the following value:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DOCKER_IMAGE_NAME=weaver-relay-server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Repeat the above step for <code>.env.n2</code> or <code>.env.n2.tls</code> in <code>docker/testnet-envs</code> directory, which contain environment variables for the <code>network2</code> relay.</li><li>To deploy the relay server for <code>network1</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.n1&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the relay server with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.n1.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>To deploy the relay server for <code>network2</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.n2&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the relay server with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.n2.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>After launching the relay(s), you can revert the <code>docker-compose.yaml</code> changes by running:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><p>For more information, see the <a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability/tree/master/core/relay/relay-docker.md" target="_blank" rel="noopener noreferrer">relay-docker README</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-driver">Fabric Driver<a aria-hidden="true" class="hash-link" href="#fabric-driver" title="Direct link to heading">â€‹</a></h3><p>A driver is a DLT-specific plugin invoked by the relay while channelling external data queries to the local peer network and collecting a response with proofs. The Fabric driver is built as a Fabric client application on the <code>fabric-network</code> NPM package.
The code for this lies in the <code>core/drivers/fabric-driver</code> folder. Navigate to the <code>core/drivers/fabric-driver</code> folder.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="building">Building<a aria-hidden="true" class="hash-link" href="#building" title="Direct link to heading">â€‹</a></h4><p>To build the fabric-driver image, run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-image-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="deployment-1">Deployment<a aria-hidden="true" class="hash-link" href="#deployment-1" title="Direct link to heading">â€‹</a></h4><p>Use the following steps to run Fabric drivers in Docker containers:</p><ul><li>The <code>.env.n1</code> and <code>.env.n1.tls</code> files in the <code>docker-testnet-envs</code> directory contain environment variables used by the <code>network1</code> driver at startup and runtime. Edit either of these files (depending on whether you wish to start the relay with or without TLS) as follows:<ul><li>Replace <code>&lt;PATH-TO-WEAVER&gt;</code> with the absolute path of the <code>weaver-dlt-interoperability</code> clone folder.</li><li>Update the following value:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DOCKER_IMAGE_NAME=weaver-fabric-driver</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul></li><li>Repeat the above steps for <code>.env.n2</code> or <code>.env.n2.tls</code> in <code>docker-testnet-envs</code> directory, which contain environment variables for the <code>network2</code> driver.</li><li>To deploy the Fabric driver for <code>network1</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.n1&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the driver with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.n1.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>To deploy the Fabric driver for <code>network2</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.n2&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the driver with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.n2.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-client-application">Fabric Client (Application)<a aria-hidden="true" class="hash-link" href="#fabric-client-application" title="Direct link to heading">â€‹</a></h3><p>The CLI is used to interact with a Fabric network, configure it and run chaincode transactions to record data on the channel ledger or query data. It is also used to interact with remote networks through the relay in order to trigger an interoperation flow for data request and acceptance.</p><p>The <code>fabric-cli</code> Node.js source code is located in the <code>samples/fabric/fabric-cli</code> folder and the Golang source code in the <code>samples/fabric/go-cli</code> folder.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="prerequisites-1">Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites-1" title="Direct link to heading">â€‹</a></h4><p>If you are using a Linux system, make sure that lib64 is installed.</p><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">For the Node.js version of the <code>fabric-cli</code>, the setup and running instructions below were tested with all Node.js versions from v11.14.0 to v14.17.3.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_y2LR" id="installation">Installation<a aria-hidden="true" class="hash-link" href="#installation" title="Direct link to heading">â€‹</a></h4><p>You can install <code>fabric-cli</code> as follows (for both the Node.js and Golang versions):</p><ul><li>Navigate to the <code>samples/fabric/fabric-cli</code> folder or the <code>samples/fabric/go-cli</code> folder.</li><li>Run the following to install dependencies (for the Node.js version) or the executable (for the Golang version):<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Use the <code>fabric-cli</code> executable in the <code>bin</code> folder for <a href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization">subsequent actions</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="corda-components">Corda Components<a aria-hidden="true" class="hash-link" href="#corda-components" title="Direct link to heading">â€‹</a></h2><p>Using the sequence of instructions below, you can start a Corda network and run an application CorDapp on it. You can also run an interoperation CorDapp, a relay and a <em>driver</em> acting on behalf of the network. You can initialize the network&#x27;s vault with access control policies, foreign networks&#x27; security groups (i.e., membership providers&#x27; certificate chains), and some sample state values that can be shared during subsequent interoperation flows.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="interoperation-cordapp">Interoperation CorDapp<a aria-hidden="true" class="hash-link" href="#interoperation-cordapp" title="Direct link to heading">â€‹</a></h3><p>The interoperation CorDapp is deployed to run as part of any Corda application flow that involves cross-network interoperation.</p><p>Build the interoperation CorDapp as follows:</p><ul><li>Navigate to the <code>core/network/corda-interop-app</code> folder.</li><li>Run the following to create the JAR files on which other Corda network components will depend on:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-interoperation-sdk">Corda Interoperation SDK<a aria-hidden="true" class="hash-link" href="#corda-interoperation-sdk" title="Direct link to heading">â€‹</a></h3><p>A client-layer library is defined in the <code>sdks/corda</code> folder. This contains functions for Corda based client applications to exercise interoperation capabilities via relays and also several utility/helper functions. The Corda Client tool, which we will use later, depends on this library.</p><p>To build the library, do the following:</p><ul><li>Navigate to the <code>sdks/corda</code> folder.</li><li>Run the following command (<em>make sure there is no github.properties file present in the directory</em>):<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-simple-application-and-client-application">Corda Simple Application and Client (Application)<a aria-hidden="true" class="hash-link" href="#corda-simple-application-and-client-application" title="Direct link to heading">â€‹</a></h3><p>This is a simple CorDapp that maintains a state of type <code>SimpleState</code>, which is a set of key-value pairs (of strings).
The code for this lies in the <code>samples/corda/corda-simple-application</code> folder.</p><p>Build the <code>corda-simple-application</code> CorDapp as follows:</p><ul><li>Navigate to the <code>samples/corda/corda-simple-application</code> folder.</li><li>Run the following:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> build-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-network">Corda Network<a aria-hidden="true" class="hash-link" href="#corda-network" title="Direct link to heading">â€‹</a></h3><p>The Corda networks&#x27; code lies in the <code>tests/network-setups/corda</code> folder. You can launch two separate Corda networks, namely <code>Corda_Network</code> and <code>Corda_Network2</code>. Each network runs the <code>samples/corda/corda-simple-application</code> CorDapp by default, which maintains a state named <code>SimpleState</code> containing a set of key-value pairs (of strings).</p><p>Follow the instructions below to build and launch both networks:</p><ul><li>Navigate to the <code>tests/network-setups/corda</code> folder.</li><li>To spin up the Corda networks with the Interoperation CorDapps:<ul><li>Each consisting of 1 node and a notary (for data-transfer), run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Each consisting of 2 nodes and a notary (for asset-exchange/transfer), run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-local </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">PROFILE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2-nodes&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Each consisting of 3 nodes and a notary (for asset-exchange/transfer), run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-local </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">PROFILE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;3-nodes&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul></li></ul><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">If you do not wish to test Corda-Corda interoperation, you can choose to launch only one of the two networks along with its interoperation CorDapp. For <code>Corda_Network</code>, run <code>make start-network1-local</code>, and for <code>Corda_Network2</code>, run <code>make start-network2-local</code>.</td></tr></tbody></table><p>You should see the following message in the terminal:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Waiting for network node services to start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The Corda nodes and notary may take a while (several minutes on memory-constrained systems) to start. If they start up successfully, you should something like the following for each network, though the number of node entries will depend on the profile you used to start the network with (replace <code>&lt;network-name&gt;</code> with <code>Corda_Network</code> or <code>Corda_Network2</code>):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">PartyA </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> services started </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> network </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">network-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PartyB </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> services started </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> network </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">network-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PartyC </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> services started </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> network </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">network-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Notary </span><span class="token function" style="color:rgb(130, 170, 255)">node</span><span class="token plain"> services started </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> network </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">network-name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-relay">Corda Relay<a aria-hidden="true" class="hash-link" href="#corda-relay" title="Direct link to heading">â€‹</a></h3><p>Navigate to the <code>core/relay</code> folder. Refer <a href="#building-relay-image">here</a> to build the relay image if not already built. Now run a relay for <code>Corda_Network</code> and/or <code>Corda_Network2</code> in Docker container as follows:</p><ul><li>The <code>docker-compose.yaml</code> in this folder is minimally configured with default values. To modify it for use with the Fabric testnets, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>The <code>.env.corda</code> and <code>.env.corda.tls</code> files in the <code>docker/testnet-envs</code> directory contain environment variables used by the <code>Corda_Network</code> relay at startup and runtime. Edit either of these files (depending on whether you wish to start the relay with or without TLS), and update the following value:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DOCKER_IMAGE_NAME=weaver-relay-server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Repeat the above step for <code>.env.corda2</code> or <code>.env.corda2.tls</code> in <code>docker/testnet-envs</code> directory, which contain environment variables for the <code>Corda_Network2</code> relay.</li><li>To deploy the relay server for <code>Corda_Network</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.corda&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the relay server with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.corda.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>To deploy the relay server for <code>Corda_Network2</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.corda2&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the relay server with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> start-server </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker/testnet-envs/.env.corda2.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>After launching the relay(s), you can revert the <code>docker-compose.yaml</code> changes by running:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-driver">Corda Driver<a aria-hidden="true" class="hash-link" href="#corda-driver" title="Direct link to heading">â€‹</a></h3><p>Navigate to the <code>core/drivers/corda-driver</code> folder.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="building-1">Building<a aria-hidden="true" class="hash-link" href="#building-1" title="Direct link to heading">â€‹</a></h4><p>To build the corda driver docker image, run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> image-local</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="deployment-2">Deployment<a aria-hidden="true" class="hash-link" href="#deployment-2" title="Direct link to heading">â€‹</a></h4><p>Use the following steps to run Corda drivers in Docker containers:</p><ul><li>The <code>.env.corda</code> and <code>.env.corda.tls</code> files in the <code>docker-testnet-envs</code> directory contain environment variables used by the <code>Corda_Network</code> driver at startup and runtime. Edit either of these files (depending on whether you wish to start the relay with or without TLS) to update the following value:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DOCKER_IMAGE_NAME=weaver-corda-driver</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>Repeat the above steps for <code>.env.corda2</code> or <code>.env.corda2.tls</code> in <code>docker-testnet-envs</code> directory, which contain environment variables for the <code>Corda_Network2</code> driver.</li></ul><ul><li>To deploy the Corda driver for <code>Corda_Network</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the driver with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>If the driver starts successfully, it should log the following message when you run <code>docker logs corda-driver-Corda_Network</code>:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Corda driver gRPC server started. Listening on port 9099</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li>To deploy the Corda driver for <code>Corda_Network2</code> without TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda2&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>Instead, to deploy the driver with TLS, run:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> deploy </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda2.tls&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>If the driver starts successfully, it should log the following message when you run <code>docker logs corda-driver-Corda_Network2</code>:<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Corda driver gRPC server started. Listening on port 9098</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="tear-down-the-setup">Tear Down the Setup<a aria-hidden="true" class="hash-link" href="#tear-down-the-setup" title="Direct link to heading">â€‹</a></h2><p>Bring down the various components as follows (<em>Navigate to the root folder of your clone of the Weaver repository</em>):</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="relay">Relay<a aria-hidden="true" class="hash-link" href="#relay" title="Direct link to heading">â€‹</a></h3><p>To bring down the relays (for all 3 networks), run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> core/relay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.n1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.n2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.corda&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.corda2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> convert-compose-method1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-driver-1">Fabric Driver<a aria-hidden="true" class="hash-link" href="#fabric-driver-1" title="Direct link to heading">â€‹</a></h3><p>To bring down the fabric drivers (for both networks), run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> core/drivers/fabric-driver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.n1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file .env.n2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-driver-1">Corda Driver<a aria-hidden="true" class="hash-link" href="#corda-driver-1" title="Direct link to heading">â€‹</a></h3><p>To bring down the corda driver, run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> core/drivers/corda-driver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> stop </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">COMPOSE_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;--env-file docker-testnet-envs/.env.corda2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="corda-network-1">Corda Network<a aria-hidden="true" class="hash-link" href="#corda-network-1" title="Direct link to heading">â€‹</a></h3><p>To bring down the Corda network:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> tests/network-setups/corda</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> clean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fabric-network-1">Fabric Network<a aria-hidden="true" class="hash-link" href="#fabric-network-1" title="Direct link to heading">â€‹</a></h3><p>To bring down both of the Fabric networks along with weaver components:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> tests/network-setups/fabric/dev</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> clean</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> -</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability/edit/master/docs/external/getting-started/test-network/setup-local-docker.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Component Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ledger Initialization<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#software" class="table-of-contents__link toc-highlight">Software</a></li><li><a href="#credentials" class="table-of-contents__link toc-highlight">Credentials</a></li></ul></li><li><a href="#getting-the-code-and-documentation" class="table-of-contents__link toc-highlight">Getting the Code and Documentation</a></li><li><a href="#common-structures" class="table-of-contents__link toc-highlight">Common Structures</a></li><li><a href="#securing-components" class="table-of-contents__link toc-highlight">Securing Components</a></li><li><a href="#hyperledger-fabric-components" class="table-of-contents__link toc-highlight">Hyperledger Fabric Components</a><ul><li><a href="#fabric-interoperation-node-sdk" class="table-of-contents__link toc-highlight">Fabric Interoperation Node SDK</a></li><li><a href="#fabric-network" class="table-of-contents__link toc-highlight">Fabric Network</a></li><li><a href="#fabric-relay" class="table-of-contents__link toc-highlight">Fabric Relay</a></li><li><a href="#fabric-driver" class="table-of-contents__link toc-highlight">Fabric Driver</a></li><li><a href="#fabric-client-application" class="table-of-contents__link toc-highlight">Fabric Client (Application)</a></li></ul></li><li><a href="#corda-components" class="table-of-contents__link toc-highlight">Corda Components</a><ul><li><a href="#interoperation-cordapp" class="table-of-contents__link toc-highlight">Interoperation CorDapp</a></li><li><a href="#corda-interoperation-sdk" class="table-of-contents__link toc-highlight">Corda Interoperation SDK</a></li><li><a href="#corda-simple-application-and-client-application" class="table-of-contents__link toc-highlight">Corda Simple Application and Client (Application)</a></li><li><a href="#corda-network" class="table-of-contents__link toc-highlight">Corda Network</a></li><li><a href="#corda-relay" class="table-of-contents__link toc-highlight">Corda Relay</a></li><li><a href="#corda-driver" class="table-of-contents__link toc-highlight">Corda Driver</a></li></ul></li><li><a href="#tear-down-the-setup" class="table-of-contents__link toc-highlight">Tear Down the Setup</a><ul><li><a href="#relay" class="table-of-contents__link toc-highlight">Relay</a></li><li><a href="#fabric-driver-1" class="table-of-contents__link toc-highlight">Fabric Driver</a></li><li><a href="#corda-driver-1" class="table-of-contents__link toc-highlight">Corda Driver</a></li><li><a href="#corda-network-1" class="table-of-contents__link toc-highlight">Corda Network</a></li><li><a href="#fabric-network-1" class="table-of-contents__link toc-highlight">Fabric Network</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Weaver Framework.</div></div></div></footer></div>
<script src="/weaver-dlt-interoperability/assets/js/runtime~main.484a241e.js"></script>
<script src="/weaver-dlt-interoperability/assets/js/main.e403c925.js"></script>
</body>
</html>