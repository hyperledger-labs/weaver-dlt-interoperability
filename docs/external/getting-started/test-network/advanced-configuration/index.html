<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/weaver-dlt-interoperability/blog/rss.xml" title="Weaver: DLT Interoperability Framework Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/weaver-dlt-interoperability/blog/atom.xml" title="Weaver: DLT Interoperability Framework Blog Atom Feed"><title data-react-helmet="true">Advanced Configuration | Weaver: DLT Interoperability Framework</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Advanced Configuration | Weaver: DLT Interoperability Framework"><meta data-react-helmet="true" name="description" content="&lt;!--"><meta data-react-helmet="true" property="og:description" content="&lt;!--"><meta data-react-helmet="true" property="og:url" content="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration"><link data-react-helmet="true" rel="shortcut icon" href="/weaver-dlt-interoperability/shared/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration"><link rel="stylesheet" href="/weaver-dlt-interoperability/styles.886962d7.css">
<link rel="preload" href="/weaver-dlt-interoperability/styles.71233db7.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/runtime~main.73fe58ec.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/main.31f63e69.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/1.b315fc89.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/2.61265fe2.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/63.d86c3c52.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/64.98bfdfd5.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/935f2afb.cad17853.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/17896441.dc4e6572.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/2ec21c4a.9380ba8a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/weaver-dlt-interoperability/"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Weaver</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/weaver-dlt-interoperability/docs/external/introduction">Docs</a><a class="navbar__item navbar__link" href="/weaver-dlt-interoperability/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/weaver-dlt-interoperability/"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Weaver</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/weaver-dlt-interoperability/docs/external/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/introduction">Weaver Framework</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/guide">Using Weaver</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Launching a Test Network</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/overview">Component Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local">Setup with Locally Built Weaver Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker">Setup with Locally Built Dockerized Weaver Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages">Setup with Imported Weaver Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages-docker">Setup with Imported Dockerized Weaver Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization">Ledger Initialization</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration">Advanced Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Testing Interoperation Modes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/getting-started/interop/data-sharing">Data Sharing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/getting-started/interop/asset-exchange">Asset Exchange</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Enabling Weaver in your Network and Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/getting-started/enabling-weaver-network/fabric">Hyperledger Fabric</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/getting-started/enabling-weaver-network/corda">Corda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/getting-started/enabling-weaver-network/besu">Hyperledger Besu</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">What is Interoperability?</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/what-is-interoperability/understanding-interoperability">Understanding Interoperability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/what-is-interoperability/levels-of-interoperability">Levels of Interoperability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/what-is-interoperability/integration-patterns">Integration Patterns</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/interoperability-modes">Interoperability Modes</a></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/design-principles">Design Principles</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Stories</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/user-stories/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/user-stories/global-trade">Global Trade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/user-stories/financial-markets">DvP in Financial Markets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/user-stories/legacy-integration">Legacy Integration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture and Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/relay">Relay</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/drivers">Drivers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/weaver-dapps">Weaver Dapps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/decentralized-identity">Decentralized Identity</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Security Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/security-model/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/security-model/access-control">Access Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/security-model/proofs-and-verification">Proofs and Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/security-model/end-to-end-security">End-to-End Security</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Considerations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/deployment-considerations/deployment-patterns">Deployment Patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/deployment-considerations/governance-and-policies">Governance and Policies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/weaver-dlt-interoperability/docs/external/deployment-considerations/legal-and-regulation">Legal and Regulation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/specifications">Specifications</a></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/publications">Publications</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Advanced Configuration</h1></header><div class="markdown"><p>You can configure the different components of the test network to use non-default parameter values for various settings (such as host names or port numbers). Here is a list of configurations you can tweak, classified by the DLT type.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="corda"></a>Corda<a class="hash-link" href="#corda" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="relay"></a>Relay<a class="hash-link" href="#relay" title="Direct link to heading">#</a></h3><p>To run the relay on a different port from the default (<code>9081</code>), do the following:</p><ul><li>Navigate to the <code>core/relay</code> folder.</li><li>Update the <code>port</code> field in <code>config/Corda_Relay.toml</code>.</li><li>To ensure that the relay of <code>network1</code> can communicate with this relay, update the <code>port</code> field in the <code>relays.Corda_Relay</code> section in <code>config/Fabric_Relay.toml</code> with the same value.</li><li>To ensure that the relay of <code>network2</code> can communicate with this relay, update the <code>port</code> field in the <code>relays.Corda_Relay</code> section in <code>config/Fabric_Relay2.toml</code> with the same value.</li><li>(You can update host names in similar locations, by adjusting the <code>hostname</code> field.)</li><li>When you attempt a Fabric to Corda interoperation flow, use the new host name or port (instead of <code>localhost:9081</code>).</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="driver"></a>Driver<a class="hash-link" href="#driver" title="Direct link to heading">#</a></h3><p>To run the driver on a different port from the default (<code>9099</code>), do the following:</p><ul><li>Navigate to the <code>core/drivers/corda-driver</code> folder.</li><li>Set the environment variable <code>DRIVER_PORT</code> appropriately while running the executable as follows:<div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DRIVER_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ./build/install/corda-driver/bin/corda-driver</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ul><p>To ensure that the relay can connect to this driver:</p><ul><li>Navigate to the <code>core/relay</code> folder.</li><li>Update the <code>port</code> field in the <code>drivers.Corda</code> section in <code>config/Corda_Relay.toml</code> with the same value.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="network"></a>Network<a class="hash-link" href="#network" title="Direct link to heading">#</a></h3><p><em>Note</em>: Currently, all the Corda nodes must be running on the same machine (<code>localhost</code> or some other) for seamless communication.</p><p>To change the ports the Corda nodes are listening on, do the following:</p><ul><li>Navigate to the <code>tests/network-setups/corda</code> folder.</li><li>Update the exposed ports in <code>docker-compose.yml</code> (defaults are <code>10003</code> for the <code>notary</code> container and <code>10006</code> for the <code>partya</code> container).</li><li>Navigate to the <code>samples/corda/corda-simple-application</code> folder.</li><li>Update the <code>CORDA_HOST</code> (default is <code>localhost</code>) and <code>CORDA_PORT</code> (default is <code>10006</code>) environment variables on your host machine to reflect the above update, or run the client bootstrapping script as follows:<div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CORDA_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">hostname</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CORDA_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> initialise-vault</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li>When you attempt a Fabric to Corda interoperation flow, use the new host name and port values as in the following example (<code>network1</code> requesting <code>Corda_Network</code>):<div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./bin/fabric-cli interop --local-network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">network1 --requesting-org</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">org1.network1.com localhost:9081/Corda_Network/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">CORDA_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">CORDA_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#com.cordaSimpleApplication.flow.GetStateByKey:H`</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="client-application"></a>Client Application<a class="hash-link" href="#client-application" title="Direct link to heading">#</a></h3><p>The config files used to initialise the network&#x27;s verification policies, access control policies, and security group info, contain the address (host name and port) of the Corda node.
To update the address of the Corda node, do the following:</p><ul><li>Navigate to the <code>samples/corda/corda-simple-application</code> folder.</li><li>Edit the <code>rules --&gt; resource</code> field in line 7 in <code>clients/src/main/resources/config/FabricNetworkAccessControlPolicy.json</code> by replacing <code>localhost:10006</code> with <code>&lt;CORDA_HOST&gt;:&lt;CORDA_PORT&gt;</code> as specified in the previous section.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fabric"></a>Fabric<a class="hash-link" href="#fabric" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="relay-1"></a>Relay<a class="hash-link" href="#relay-1" title="Direct link to heading">#</a></h3><p>To run the relay on a different port from the default (<code>9080</code> for <code>network1</code> and <code>9083</code> for <code>network2</code>), do the following:</p><ul><li>Navigate to the <code>core/relay</code> folder.</li><li>Update the <code>port</code> field in <code>config/Fabric_Relay.toml</code> (for <code>network1</code>) or <code>config/Fabric_Relay2.toml</code> (for <code>network2</code>).</li><li>To ensure Fabric-Fabric relay communication, update the foreign relay port in the <code>port</code> field in the <code>relays.Fabric_Relay</code> section in either of the above files.</li><li>To ensure that the Corda network&#x27;s relay can communicate with this relay, update the <code>port</code> field in the <code>relays.Fabric_Relay</code> section in <code>config/Corda_Relay.toml</code>.</li><li>(You can update host names in similar locations, by adjusting the <code>hostname</code> field.)</li><li>When you attempt a Fabric to Fabric or Corda to Fabric interoperation flow, use the new host name or port (instead of <code>localhost:9081</code> or <code>localhost:9083</code>).</li><li>Navigate to the <code>core/drivers/fabric-driver</code> folder.</li><li>Update the <code>RELAY_ENDPOINT</code> variable in <code>.env</code> or specify <code>RELAY_ENDPOINT=&lt;hostname&gt;:&lt;port&gt;</code> in the command line while running the driver using <code>npm run dev</code>.</li><li>Navigate to the <code>samples/fabric/fabric-cli</code> folder.</li><li>Update the <code>relayEndpoint</code> variables appropriately.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="driver-1"></a>Driver<a class="hash-link" href="#driver-1" title="Direct link to heading">#</a></h3><p>The <code>fabric-driver</code> configuration can be controlled by environment variables either set in <code>.env</code> in the <code>core/drivers/fabric-driver</code> folder (or a copy if you created one) or passed in the command line when you run <code>npm run dev</code> to start the driver. The relevant variables you can control when you make any change to the setup are:</p><ul><li><code>CONNECTION_PROFILE</code>: this is the path to the connection profile. If you make changes to the network or use a different one, create a new connection profile and point to it using this variable.</li><li><code>RELAY_ENDPOINT</code>: this is the endpoint of the relay (hostname and port), and you can adjust it as described in the previous section; this is where the relay will be listening for incoming requests and from where the relay will channel foreign requests as well.</li><li><code>DRIVER_ENDPOINT</code>: this is the hostname and port the driver itself will bind to, and you can change it from the default (<code>localhost:9090</code> for <code>network1</code> and <code>localhost:9095</code> for <code>network2</code>) as per your need</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fabric-cli"></a>Fabric CLI<a class="hash-link" href="#fabric-cli" title="Direct link to heading">#</a></h3><p>You can adjust settings for <code>fabric-cli</code> in the <code>.env</code> and <code>config.json</code> (in the <code>samples/fabric/fabric-cli</code> folder) as described earlier.</p><p>Important environment variables (in <code>.env</code>) are:</p><ul><li><code>DEFAULT_CHANNEL</code>: this is the name of the channel the CLI will interact with. If you build a new channel or network, update the channel name here.</li><li><code>DEFAULT_CHAINCODE</code>: this is the name of the interoperaton chaincode the CLI will submit transactions and queries to for policy and security group bootstrapping. If you wish to test with a modified interoperation chaincode with a different name, update this value.</li><li><code>MEMBER_CREDENTIAL_FOLDER</code>: as described earlier, this is an absolute path that points to policies and security group info associated with foreign networks. You can adjust this info for the existing three networks or add credentials for another network you wish to test interoperation flows with.</li><li><code>LOCAL</code>: this is a boolean, indicating whether the network to connect to is running on (and as) <code>localhost</code></li><li><code>DEFAULT_APPLICATION_CHAINCODE</code>: this is the name of the application chaincode which maintains information that can be shared (with proof) with other networks upon request using interoperation. You may write and deploy your own chaincode and use its name here instead of the default <code>simplestate</code>.</li><li><code>CONFIG_PATH</code>: this points to the JSON file containing the configurations of all the Fabric networks that need to be configured using the <code>fabric-cli</code>.</li></ul><p>The <code>config.json</code> (which can have a different name as long as you add the right reference to <code>.env</code> and configure <code>fabric-cli</code> suitably) has the following structure (it can have any number of networks specified):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;network1&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connProfilePath&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;relayEndpoint&quot;: &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;network2&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connProfilePath&quot;: &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;relayEndpoint&quot;: &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><code>connProfilePath</code>: absolute path of the network&#x27;s connection profile</li><li><code>relayEndpoint</code>: hostname and port of the particular network&#x27;s relay (make sure you sync this with any changes made to that relay&#x27;s configuration)</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability/edit/master/docs/external/getting-started/test-network/advanced-configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Ledger Initialization</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/weaver-dlt-interoperability/docs/external/getting-started/interop/data-sharing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Sharing Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#corda" class="table-of-contents__link">Corda</a><ul><li><a href="#relay" class="table-of-contents__link">Relay</a></li><li><a href="#driver" class="table-of-contents__link">Driver</a></li><li><a href="#network" class="table-of-contents__link">Network</a></li><li><a href="#client-application" class="table-of-contents__link">Client Application</a></li></ul></li><li><a href="#fabric" class="table-of-contents__link">Fabric</a><ul><li><a href="#relay-1" class="table-of-contents__link">Relay</a></li><li><a href="#driver-1" class="table-of-contents__link">Driver</a></li><li><a href="#fabric-cli" class="table-of-contents__link">Fabric CLI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Weaver Framework.</div></div></div></footer></div>
<script src="/weaver-dlt-interoperability/styles.71233db7.js"></script>
<script src="/weaver-dlt-interoperability/runtime~main.73fe58ec.js"></script>
<script src="/weaver-dlt-interoperability/main.31f63e69.js"></script>
<script src="/weaver-dlt-interoperability/1.b315fc89.js"></script>
<script src="/weaver-dlt-interoperability/2.61265fe2.js"></script>
<script src="/weaver-dlt-interoperability/63.d86c3c52.js"></script>
<script src="/weaver-dlt-interoperability/64.98bfdfd5.js"></script>
<script src="/weaver-dlt-interoperability/935f2afb.cad17853.js"></script>
<script src="/weaver-dlt-interoperability/17896441.dc4e6572.js"></script>
<script src="/weaver-dlt-interoperability/2ec21c4a.9380ba8a.js"></script>
</body>
</html>