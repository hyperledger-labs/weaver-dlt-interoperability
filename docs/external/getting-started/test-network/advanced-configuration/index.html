<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-external/getting-started/test-network/advanced-configuration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Advanced Configuration | Weaver: DLT Interoperability Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Advanced Configuration | Weaver: DLT Interoperability Framework"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/weaver-dlt-interoperability/shared/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration"><link data-rh="true" rel="alternate" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger-labs.github.io/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/weaver-dlt-interoperability/blog/rss.xml" title="Weaver: DLT Interoperability Framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/weaver-dlt-interoperability/blog/atom.xml" title="Weaver: DLT Interoperability Framework Atom Feed"><link rel="stylesheet" href="/weaver-dlt-interoperability/assets/css/styles.26b1bc6d.css">
<link rel="preload" href="/weaver-dlt-interoperability/assets/js/runtime~main.91c8768b.js" as="script">
<link rel="preload" href="/weaver-dlt-interoperability/assets/js/main.b9723597.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/weaver-dlt-interoperability/"><div class="navbar__logo"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_ToTc themedImage--light_HNdA"><img src="/weaver-dlt-interoperability/shared/logo.svg" alt="Weaver" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Weaver</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/weaver-dlt-interoperability/docs/external/introduction">Docs</a><a class="navbar__item navbar__link" href="/weaver-dlt-interoperability/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/introduction">Weaver Framework</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/weaver-dlt-interoperability/docs/external/getting-started/guide">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/guide">Using Weaver</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/overview">Launching a Test Network</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/overview">Component Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local">Setup with Locally Built Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-local-docker">Setup with Locally Built Dockerized Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages">Setup with Imported Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/setup-packages-docker">Setup with Imported Dockerized Weaver Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization">Ledger Initialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/advanced-configuration">Advanced Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/interop/overview">Testing Interoperation Modes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/weaver-dlt-interoperability/docs/external/getting-started/enabling-weaver-network/overview">Enabling Weaver in your Network and Application</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/weaver-dlt-interoperability/docs/external/what-is-interoperability/understanding-interoperability">What is Interoperability?</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/interoperability-modes">Interoperability Modes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/design-principles">Design Principles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/weaver-dlt-interoperability/docs/external/user-stories/overview">User Stories</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/weaver-dlt-interoperability/docs/external/architecture-and-design/overview">Architecture and Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/weaver-dlt-interoperability/docs/external/security-model/authentication">Security Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/weaver-dlt-interoperability/docs/external/deployment-considerations/deployment-patterns">Deployment Considerations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/specifications">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/weaver-dlt-interoperability/docs/external/publications">Publications</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/weaver-dlt-interoperability/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Launching a Test Network</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Advanced Configuration</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Advanced Configuration</h1></header><p>You can configure the different components of the test network to use non-default parameter values for various settings (such as host names or port numbers). Here is a list of configurations you can tweak, classified by the DLT type.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="corda">Corda<a class="hash-link" href="#corda" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relay">Relay<a class="hash-link" href="#relay" title="Direct link to heading">​</a></h3><p>To run the relay on a different port from the default (<code>9081</code>), do the following:</p><ul><li>Navigate to the <code>core/relay</code> folder in your clone of the Weaver repository.</li><li>Update the <code>port</code> field in <code>config/Corda_Relay.toml</code>.</li><li>To ensure that the relay of <code>network1</code> can communicate with this relay, update the <code>port</code> field in the <code>relays.Corda_Relay</code> section in <code>config/Fabric_Relay.toml</code> with the same value.</li><li>To ensure that the relay of <code>network2</code> can communicate with this relay, update the <code>port</code> field in the <code>relays.Corda_Relay</code> section in <code>config/Fabric_Relay2.toml</code> with the same value.</li><li>(You can update host names in similar locations, by adjusting the <code>hostname</code> field.)</li><li>When you attempt a Fabric to Corda interoperation flow, use the new host name or port (instead of <code>localhost:9081</code>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="driver">Driver<a class="hash-link" href="#driver" title="Direct link to heading">​</a></h3><p>To run the driver on a different port from the default (<code>9099</code>), do the following:</p><ul><li>Navigate to the <code>core/drivers/corda-driver</code> folder in your clone of the Weaver repository.</li><li>Set the environment variable <code>DRIVER_PORT</code> appropriately while running the executable as follows:<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DRIVER_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ./build/install/corda-driver/bin/corda-driver</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>To ensure that the relay can connect to this driver:</p><ul><li>Navigate to the <code>core/relay</code> folder in your clone of the Weaver repository.</li><li>Update the <code>port</code> field in the <code>drivers.Corda</code> section in <code>config/Corda_Relay.toml</code> with the same value.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a class="hash-link" href="#network" title="Direct link to heading">​</a></h3><table><thead><tr><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">In our sample setup, all the Corda nodes must be running on the same machine (<code>localhost</code> or some other) for seamless communication.</td></tr></tbody></table><p>To change the ports the Corda nodes are listening on, do the following:</p><ul><li>Navigate to the <code>tests/network-setups/corda</code> folder in your clone of the Weaver repository.</li><li>Update the exposed ports in <code>docker-compose.yml</code> (defaults are <code>10003</code> for the <code>notary</code> container and <code>10006</code> for the <code>partya</code> container).</li><li>Navigate to the <code>samples/corda/corda-simple-application</code> folder in your clone of the Weaver repository.</li><li>Update the <code>CORDA_HOST</code> (default is <code>localhost</code>) and <code>CORDA_PORT</code> (default is <code>10006</code>) environment variables on your host machine to reflect the above update, or run the client bootstrapping script as follows:<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CORDA_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">hostname</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CORDA_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> initialise-vault</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>When you attempt a Fabric to Corda interoperation flow, use the new host name and port values as in the following example (<code>network1</code> requesting <code>Corda_Network</code>):<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./bin/fabric-cli interop --local-network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">network1 --requesting-org</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">org1.network1.com localhost:9081/Corda_Network/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">CORDA_HOST</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">CORDA_PORT</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#com.cordaSimpleApplication.flow.GetStateByKey:H`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-application">Client Application<a class="hash-link" href="#client-application" title="Direct link to heading">​</a></h3><p>The config files used to initialise the network&#x27;s verification policies, access control policies, and security group info, contain the address (host name and port) of the Corda node.
To update the address of the Corda node, do the following:</p><ul><li>Navigate to the <code>samples/corda/corda-simple-application</code> folder in your clone of the Weaver repository.</li><li>Edit the <code>rules --&gt; resource</code> field in line 7 in <code>clients/src/main/resources/config/FabricNetworkAccessControlPolicy.json</code> by replacing <code>localhost:10006</code> with <code>&lt;CORDA_HOST&gt;:&lt;CORDA_PORT&gt;</code> as specified in the previous section.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fabric">Fabric<a class="hash-link" href="#fabric" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relay-1">Relay<a class="hash-link" href="#relay-1" title="Direct link to heading">​</a></h3><p>To run the relay on a different port from the default (<code>9080</code> for <code>network1</code> and <code>9083</code> for <code>network2</code>), do the following:</p><ul><li>Navigate to the <code>core/relay</code> folder in your clone of the Weaver repository.</li><li>Update the <code>port</code> field in <code>config/Fabric_Relay.toml</code> (for <code>network1</code>) or <code>config/Fabric_Relay2.toml</code> (for <code>network2</code>).</li><li>To ensure Fabric-Fabric relay communication, update the foreign relay port in the <code>port</code> field in the <code>relays.Fabric_Relay</code> section in either of the above files.</li><li>To ensure that the Corda network&#x27;s relay can communicate with this relay, update the <code>port</code> field in the <code>relays.Fabric_Relay</code> section in <code>config/Corda_Relay.toml</code>.</li><li>(You can update host names in similar locations, by adjusting the <code>hostname</code> field.)</li><li>When you attempt a Fabric to Fabric or Corda to Fabric interoperation flow, use the new host name or port (instead of <code>localhost:9081</code> or <code>localhost:9083</code>).</li><li>Navigate to the <code>core/drivers/fabric-driver</code> folder in your clone of the Weaver repository.</li><li>Update the <code>RELAY_ENDPOINT</code> variable in <code>.env</code> or specify <code>RELAY_ENDPOINT=&lt;hostname&gt;:&lt;port&gt;</code> in the command line while running the driver using <code>npm run dev</code>.</li><li>Navigate to the <code>samples/fabric/fabric-cli</code> folder in your clone of the Weaver repository.</li><li>Update the <code>relayEndpoint</code> variables appropriately.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="driver-1">Driver<a class="hash-link" href="#driver-1" title="Direct link to heading">​</a></h3><p>The <code>fabric-driver</code> configuration can be controlled by environment variables either set in <code>.env</code> in the <code>core/drivers/fabric-driver</code> folder (or a copy if you created one) in your clone of the Weaver repository or passed in the command line when you run <code>npm run dev</code> to start the driver. The relevant variables you can control when you make any change to the setup are:</p><ul><li><code>CONNECTION_PROFILE</code>: this is the path to the connection profile. If you make changes to the network or use a different one, create a new connection profile and point to it using this variable.</li><li><code>RELAY_ENDPOINT</code>: this is the endpoint of the relay (hostname and port), and you can adjust it as described in the previous section; this is where the relay will be listening for incoming requests and from where the relay will channel foreign requests as well.</li><li><code>DRIVER_ENDPOINT</code>: this is the hostname and port the driver itself will bind to, and you can change it from the default (<code>localhost:9090</code> for <code>network1</code> and <code>localhost:9095</code> for <code>network2</code>) as per your need</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fabric-cli">Fabric CLI<a class="hash-link" href="#fabric-cli" title="Direct link to heading">​</a></h3><p>You can adjust settings for <code>fabric-cli</code> in the <code>.env</code> and <code>config.json</code> (in the <code>samples/fabric/fabric-cli</code> folder in your clone of the Weaver repository) as described earlier.</p><p>Important environment variables (in <code>.env</code>) are:</p><ul><li><code>DEFAULT_CHANNEL</code>: this is the name of the channel the CLI will interact with. If you build a new channel or network, update the channel name here.</li><li><code>DEFAULT_CHAINCODE</code>: this is the name of the interoperaton chaincode the CLI will submit transactions and queries to for policy and security group bootstrapping. If you wish to test with a modified interoperation chaincode with a different name, update this value.</li><li><code>MEMBER_CREDENTIAL_FOLDER</code>: as described earlier, this is an absolute path that points to policies and security group info associated with foreign networks. You can adjust this info for the existing three networks or add credentials for another network you wish to test interoperation flows with.</li><li><code>LOCAL</code>: this is a boolean, indicating whether the network to connect to is running on (and as) <code>localhost</code></li><li><code>DEFAULT_APPLICATION_CHAINCODE</code>: this is the name of the application chaincode which maintains information that can be shared (with proof) with other networks upon request using interoperation. You may write and deploy your own chaincode and use its name here instead of the default <code>simplestate</code>.</li><li><code>CONFIG_PATH</code>: this points to the JSON file containing the configurations of all the Fabric networks that need to be configured using the <code>fabric-cli</code>.</li></ul><p>The <code>config.json</code> (which can have a different name as long as you add the right reference to <code>.env</code> and configure <code>fabric-cli</code> suitably) has the following structure (it can have any number of networks specified):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;network1&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connProfilePath&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;relayEndpoint&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;network2&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;connProfilePath&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;relayEndpoint&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>connProfilePath</code>: absolute path of the network&#x27;s connection profile</li><li><code>relayEndpoint</code>: hostname and port of the particular network&#x27;s relay (make sure you sync this with any changes made to that relay&#x27;s configuration)</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger-labs/weaver-dlt-interoperability/edit/main/docs/external/getting-started/test-network/advanced-configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/weaver-dlt-interoperability/docs/external/getting-started/test-network/ledger-initialization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ledger Initialization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/weaver-dlt-interoperability/docs/external/getting-started/interop/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing Interoperation Modes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#corda" class="table-of-contents__link toc-highlight">Corda</a><ul><li><a href="#relay" class="table-of-contents__link toc-highlight">Relay</a></li><li><a href="#driver" class="table-of-contents__link toc-highlight">Driver</a></li><li><a href="#network" class="table-of-contents__link toc-highlight">Network</a></li><li><a href="#client-application" class="table-of-contents__link toc-highlight">Client Application</a></li></ul></li><li><a href="#fabric" class="table-of-contents__link toc-highlight">Fabric</a><ul><li><a href="#relay-1" class="table-of-contents__link toc-highlight">Relay</a></li><li><a href="#driver-1" class="table-of-contents__link toc-highlight">Driver</a></li><li><a href="#fabric-cli" class="table-of-contents__link toc-highlight">Fabric CLI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Weaver Framework.</div></div></div></footer></div>
<script src="/weaver-dlt-interoperability/assets/js/runtime~main.91c8768b.js"></script>
<script src="/weaver-dlt-interoperability/assets/js/main.b9723597.js"></script>
</body>
</html>